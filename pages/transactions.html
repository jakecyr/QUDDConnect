<link rel="stylesheet" href="css/nav.css">

<main>
	<div class=" container">
		<h4 class="page-header">Transactions</h4>

		<!-- John Smith Incomplete Transaction -->
		<div class="row" id="john">
			<div class="col-lg-2">
				<img src="https://x1.xingassets.com/assets/frontend_minified/img/users/nobody_m.original.jpg" class="img-responsive" alt="User Profile Man">
			</div>
			<div class="col-lg-6">
				<a href="user-profile.html"><h2>John Smith</h2></a>
				<p>
					You are selling: $120.00<br>
					Date Started: 11/13/2016<br>
					Status: In-Progress
				</p>
			</div>
			<div class="col-lg-4">
				<button class="w3-btn w3-green" id="complete" data-toggle="modal" data-target="#myModal3">Complete &amp; Get Reward</button>
				<button class="w3-btn w3-red" data-toggle="modal" data-target="#myModal4" id="cancel">Cancel</button>
			</div>
		</div>

		<hr>
		
		<!-- Jane Doe Complete Transaction -->
		<div class="row">
			<div class="col-lg-2">
				<img src="images/woman.png" class="img-responsive" alt="User Profile Woman">
			</div>
			<div class="col-lg-6">
				<a href="user-profile2.html"><h2>Jane Doe</h2></a>
				<p>
					You bought: $50.00<br>
					Date Started: 11/1/2016<br>
					Date Completed: 11/13/2016<br>
					Status: Completed
				</p>
			</div>
			<div class="col-lg-4">
				<button class="w3-btn w3-green" data-toggle="modal" data-target="#myModal2">View</button>
				<button type="button" class="w3-btn w3-red" data-toggle="modal" data-target="#myModal" id="rated">Rate</button>
			</div>
		</div>
	</div>
</main>

<!-- Rate Modal -->
<div id="myModal" class="modal fade" role="dialog">
	<div class="modal-dialog">

		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Rate Transaction with Jane Doe</h4>
				<p>Date Completed: 11/13/2016</p>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-lg-2">
						<img src="images/woman.png" class="img-responsive" alt="User Profile Woman">
					</div>
					<div class="col-lg-10">
						<a href="user-profile2.html">
							<h2>Jane Doe</h2>
						</a>
						<p>
							You bought: $50.00<br>
							Date Started: 11/1/2016<br>
							Date Completed: 11/13/2016<br>
						</p>
					</div>
				</div>

				<span style="font-size: 40px;color:#F2E700" id="star-container">
					<i class="fa fa-star-o" id="star-1" onclick="updateRating(1)" aria-hidden="true"></i>
					<i class="fa fa-star-o" id="star-2" onclick="updateRating(2)" aria-hidden="true"></i>
					<i class="fa fa-star-o" id="star-3" onclick="updateRating(3)" aria-hidden="true"></i>
					<i class="fa fa-star-o" id="star-4" onclick="updateRating(4)" aria-hidden="true"></i>
					<i class="fa fa-star-o" id="star-5" onclick="updateRating(5)" aria-hidden="true"></i>
				</span>
				
				<div class="clear"></div>
				Additional Comments:
				<input type="text" placeholder="Enter comments here..." class="form-control">

			</div>
			<div class="modal-footer">
				<button type="button" class="w3-btn w3-blue" data-dismiss="modal" onclick="saveRating()">Save</button>
				<button type="button" class="w3-btn w3-red" data-dismiss="modal">Cancel</button>
			</div>
		</div>

	</div>
</div>

<!-- View Modal -->
<div id="myModal2" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">View Transaction with Jane Doe</h4>
				<p>Date Completed: 11/13/2016</p>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-lg-2">
						<img src="images/woman.png" class="img-responsive" alt="User Profile Woman">
					</div>
					<div class="col-lg-10">
						<a href="user-profile2.html">
							<h2>Jane Doe</h2>
						</a>
						<p>
							You bought: $50.00<br>
							Date Started: 11/1/2016<br>
							Date Completed: 11/13/2016<br>
						</p>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="w3-btn w3-red" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

<!-- Completed Modal -->
<div id="myModal3" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Complete Transaction with John Smith</h4>
				<p>Date Started: 11/13/2016</p>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-lg-2">
						<img src="https://x1.xingassets.com/assets/frontend_minified/img/users/nobody_m.original.jpg" class="img-responsive" alt="User Profile Man">
					</div>
					<div class="col-lg-10">
						<a href="user-profile2.html">
							<h2>John Smith</h2>
						</a>
						<p>
							You are selling: $120.00<br>
							Date Started: 11/13/2016<br>
							Status: In-Progress
						</p>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="w3-btn w3-green" data-dismiss="modal" onclick="$('#complete').attr('disabled','disabled').attr('title', 'Waiting for John Smith to accept completion');$('#cancel').attr('disabled','disabled')">Mark Complete</button>
				<button type="button" class="w3-btn w3-red" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

	<!-- Completed Modal -->
<div id="myModal4" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Cancel Transaction with John Smith?</h4>
			</div>
			<div class="modal-footer">
				<button type="button" class="w3-btn w3-red" data-dismiss="modal" onclick="$('hr').remove();$('#john').slideUp(1000)">Yes</button>
				<button type="button" class="w3-btn w3-green" data-dismiss="modal">No</button>
			</div>
		</div>
	</div>
</div>

<script src="js/main-page.js"></script>
<script>
	function updateRating(starClicked){
		$("#star-container i").removeClass("fa-star fa-star-o");

		for(var i = 1; i <=  starClicked; i++){
			$("#star-" + i).addClass("fa-star");
		}

		for(var i = (starClicked+1); i <= 5; i++){
			$("#star-" + i).addClass("fa-star-o");
		}
	}
	function saveRating(){
		$("#rated").attr("disabled", "disabled").text("Rated");
	}
</script>